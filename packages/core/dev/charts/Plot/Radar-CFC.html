<!doctype html>
<html>

<head>

  <meta charset="utf-8">
  <script src="../../build/d3plus-core.full.js"></script>

  <style>

    body {
      margin: 0;
      overflow: hidden;
    }

  </style>

</head>

<body></body>

<script>

  const cubes = [
    "Uninsured Population",
    "Unemployment Population",
    "Poverty Population",
    "Severe Housing Population",
    "ACES Population",
    "Incarcerated Population",
    "Overdose Deaths",
    "Prenatal Care",
    "Teen Births",
    "Infant Mortality",
    "Access to Exercise",
    "Third Grade Reading",
    "Suicides",
    "HIV Diagnoses",
    "Life expectancy",
    "Access Healthy Food",
    "Binge Drinking",
    "Primary Care Workforce",
    "Short Term Suspensions",
    "Tobacco Use",
    "Sugar Sweetened Beverages"
  ];

  const urls = cubes.map(cube => `https://dev.cfc.ui.datawheel.us/tesseract/data.jsonrecords?Cape+Fear+Member=1&cube=${cube.replace(/\s/g, "+")}&drilldowns=Year%2CCounty&measures=Indicator+Count%2CIndicator+Total%2CIndicator+Percentage%2CIndicator+Target`);


  // var myData = [
  //   {group: "alpha", axis: "Central",    number: 170.992},
  //   {group: "alpha", axis: "Kirkdale",   number: 40},
  //   {group: "alpha", axis: "Kensington", number: 240},
  //   {group: "alpha", axis: "Everton",    number: 90},
  //   {group: "alpha", axis: "Picton",     number: 160},
  //   {group: "alpha", axis: "Riverside",  number: 30},
  //   {group: "beta",  axis: "Central",    number: 320},
  //   {group: "beta",  axis: "Kirkdale",   number: 97.5},
  //   {group: "beta",  axis: "Kensington", number: 40},
  //   {group: "beta",  axis: "Everton",    number: 110},
  //   {group: "beta",  axis: "Picton",     number: 40},
  //   {group: "beta",  axis: "Riverside",  number: 110}
  // ];

  new d3plus.Radar()
    .data(urls, resp => {
      console.log(resp);
      return [];
    })
    .config({
      groupBy: "County",
      metric: "Indicator",
      value: "Value"
    })
    .render();

</script>

</html>
