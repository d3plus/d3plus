import {Meta} from '@storybook/blocks';
import Logo from "./Logo.jsx";

<Meta title="Introduction" />

<div style={{
  display: "flex",
  justifyContent: "center",
  width: "100%"
}}>
  <Logo />
</div>

D3plus is an open-source visualization library that attempts to streamline the creation of beautiful data visualizations with only a few lines of code. D3plus acts as an abstraction on top of the popular D3 library. Think of D3plus as a shortcut to great visualizations. After only setting a few parameters specific to your data, D3plus will handle all the generic things that are normally taken for granted, such as setting up mouse events, color assignment, and label placement.

## ES Modules

D3plus is available as a series of modules, which can be seen in the [Github orgnization](https://github.com/d3plus). For example, to install only the text-wrapping module:

```sh
npm install @d3plus/core
```

You can then import named functions and classes as ES modules:

```js
import {TextBox} from "@d3plus/core";
```

## React

If you are looking to use the charts in a React environment, the `@d3plus/react` module wraps each chart class in a thin React component:

```sh
npm install @d3plus/react
```

A valid d3plus `config` _Object_ needs to be provided to the `config` prop of every visualization.

```jsx
import {Treemap} from "@d3plus/react";

const methods = {
  groupBy: "id",
  data: [
    {id: "alpha", value: 29},
    {id: "beta",  value: 10}
  ],
  size: d => d.value
};

<Treemap config={methods} />
```

Additionally, a global set of styles can be set using the `D3plusContext` Provider. This allows you to set base styles on all of your visualizations in one place, often in an external file. A component's `config` set by props will override global defaults key-by-key using a deep cloning function.

```jsx
import React from "react";
import ReactDOM from "react-dom/client";
import {D3plusContext} from "@d3plus/react";
import App from "src/App.jsx";

const globalConfig = {
  shapeConfig: {
    fill: "red"
  }
};

ReactDOM.createRoot(document.getElementById("viz")).render(
  <React.StrictMode>
    <D3plusContext.Provider value={globalConfig}>
      <App />
    </D3plusContext.Provider>
  </React.StrictMode>
);
```

## Script Tag

Additionally, each module is available from a CDN for vanilla JavaScript environments (bundled with all dependencies):

```html
<script src="https://cdn.jsdelivr.net/npm/d3plus-core@3"></script>
```

A global `d3plus` object is exported, which contains all of the available methods and classes:

```html
<script>
  console.log(d3plus.TextBox);
</script>
```

## Sites that use D3plus

 * [OEC.world](https://oec.world/)
 * [Data USA](https://datausa.io/)
 * [DataSaudi](https://datasaudi.sa/)
 * [Healthy Communities NC](https://healthycommunitiesnc.org/)
 * [Puerto Rico: Family Data Center](https://data.youthpr.org/en)
 * [CNY Vitals Pro](https://pro.cnyvitals.org/)
 * [CDC AR&PSP](https://arpsp.cdc.gov/)
 * [DataMPE Brasil](https://datampe.sebrae.com.br/)
 * [La Complejidad Económica en España - COTEC](https://complejidadeconomica.cotec.es/)
 * [Data Africa](https://dataafrica.io/)
 * [Pantheon](https://pantheon.world/)
 * [Estonia Statistics](https://data.stat.ee/profile/country/ee/)
