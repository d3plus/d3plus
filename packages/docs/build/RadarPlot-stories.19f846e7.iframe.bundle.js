"use strict";(self.webpackChunk_d3plus_docs=self.webpackChunk_d3plus_docs||[]).push([[932],{"./charts/RadarPlot.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BasicExample:()=>BasicExample,ChangingColors:()=>ChangingColors,CustomizingLabels:()=>CustomizingLabels,__namedExportsOrder:()=>__namedExportsOrder,default:()=>RadarPlot_stories});var react=__webpack_require__("./node_modules/react/index.js"),Viz_args=__webpack_require__("./args/Viz.args.js"),src_assign=__webpack_require__("./node_modules/d3plus-common/es/src/assign.js"),min=__webpack_require__("./node_modules/d3-array/src/min.js"),max=__webpack_require__("./node_modules/d3-array/src/max.js"),sum=__webpack_require__("./node_modules/d3-array/src/sum.js"),src=__webpack_require__("./node_modules/d3-collection/src/index.js"),pointer=__webpack_require__("./node_modules/d3-selection/src/pointer.js"),constant=__webpack_require__("./node_modules/d3plus-common/es/src/constant.js"),accessor=__webpack_require__("./node_modules/d3plus-common/es/src/accessor.js"),configPrep=__webpack_require__("./node_modules/d3plus-common/es/src/configPrep.js"),elem=__webpack_require__("./node_modules/d3plus-common/es/src/elem.js"),merge=__webpack_require__("./node_modules/d3plus-common/es/src/merge.js"),Circle=__webpack_require__("./node_modules/d3plus-shape/es/src/Shape/Circle.js"),Rect=__webpack_require__("./node_modules/d3plus-shape/es/src/Shape/Rect.js"),Path=__webpack_require__("./node_modules/d3plus-shape/es/src/Shape/Path.js"),Viz=__webpack_require__("./node_modules/d3plus-viz/es/src/Viz.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"),"symbol"===_typeof(key)?key:String(key)),descriptor)}var arg,key}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var tau=2*Math.PI,Radar_Radar=function(_Viz){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(Radar,_Viz);var _super=_createSuper(Radar);function Radar(){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Radar),(_this=_super.call(this))._axisConfig={shapeConfig:{fill:(0,constant.A)("none"),labelConfig:{fontColor:"#999",padding:0,textAnchor:function textAnchor(d,i,x){return x.textAnchor},verticalAlign:"middle"},stroke:"#eee",strokeWidth:(0,constant.A)(1)}},_this._discrete="metric",_this._levels=6,_this._metric=(0,accessor.A)("metric"),_this._outerPadding=100,_this._shape=(0,constant.A)("Path"),_this._value=(0,accessor.A)("value"),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(Radar,[{key:"_draw",value:function _draw(callback){var _this2=this;_get(_getPrototypeOf(Radar.prototype),"_draw",this).call(this,callback);var height=this._height-this._margin.top-this._margin.bottom,width=this._width-this._margin.left-this._margin.right,radius=(0,min.A)([height,width])/2-this._outerPadding,transform="translate(".concat(width/2,", ").concat(height/2,")"),nestedAxisData=(0,src.$I)().key(this._metric).entries(this._filteredData),nestedGroupData=(0,src.$I)().key(this._id).key(this._metric).entries(this._filteredData),maxValue=(0,max.A)(nestedGroupData.map((function(h){return h.values.map((function(d){return(0,sum.A)(d.values,(function(x,i){return _this2._value(x,i)}))}))})).flat()),circularAxis=Array.from(Array(this._levels).keys()).map((function(d){return{id:d,r:radius*((d+1)/_this2._levels)}})),circleConfig=configPrep.A.bind(this)(this._axisConfig.shapeConfig,"shape","Circle");delete circleConfig.label,(new Circle.A).data(circularAxis).select((0,elem.A)("g.d3plus-Radar-radial-circles",{parent:this._select,enter:{transform},update:{transform}}).node()).config(circleConfig).render();var totalAxis=nestedAxisData.length,polarAxis=nestedAxisData.map((function(d,i){var width=_this2._outerPadding,height=2*(1.4*(_this2._shapeConfig.labelConfig.fontSize&&_this2._shapeConfig.labelConfig.fontSize(d,i)||11)),quadrant=parseInt(360-360/totalAxis*i/90,10)%4+1,radians=tau/totalAxis*i,angle=360/totalAxis*i,textAnchor="start",x=10;2!==quadrant&&3!==quadrant||(x=-width-10,textAnchor="end",angle+=180);var labelBounds={x,y:-height/2,width,height};return{__d3plus__:!0,data:(0,merge.A)(d.values,_this2._aggs),i,id:d.key,angle,textAnchor,labelBounds,rotateAnchor:[-x,height/2],x:radius*Math.cos(radians),y:radius*Math.sin(radians)}})).sort((function(a,b){return a.key-b.key}));(new Rect.A).data(polarAxis).rotate((function(d){return d.angle||0})).width(0).height(0).x((function(d){return d.x})).y((function(d){return d.y})).label((function(d){return d.id})).labelBounds((function(d){return d.labelBounds})).labelConfig(this._axisConfig.shapeConfig.labelConfig).select((0,elem.A)("g.d3plus-Radar-text",{parent:this._select,enter:{transform},update:{transform}}).node()).render(),(new Path.A).data(polarAxis).d((function(d){return"M".concat(0,",",0," ",-d.x,",").concat(-d.y)})).select((0,elem.A)("g.d3plus-Radar-axis",{parent:this._select,enter:{transform},update:{transform}}).node()).config(configPrep.A.bind(this)(this._axisConfig.shapeConfig,"shape","Path")).render();var groupData=nestedGroupData.map((function(h){var q=h.values.map((function(d,i){var value=(0,sum.A)(d.values,(function(x,i){return _this2._value(x,i)})),r=value/maxValue*radius,radians=tau/totalAxis*i;return{x:r*Math.cos(radians),y:r*Math.sin(radians)}})),d="M ".concat(q[0].x," ").concat(q[0].y," ").concat(q.map((function(l){return"L ".concat(l.x," ").concat(l.y)})).join(" ")," L ").concat(q[0].x," ").concat(q[0].y);return{arr:h.values.map((function(d){return(0,merge.A)(d.values,_this2._aggs)})),id:h.key,points:q,d,__d3plus__:!0,data:(0,merge.A)(h.values.map((function(d){return(0,merge.A)(d.values,_this2._aggs)})),_this2._aggs)}})),pathConfig=configPrep.A.bind(this)(this._shapeConfig,"shape","Path"),events=Object.keys(pathConfig.on);pathConfig.on={};for(var _loop=function _loop(){var event=events[e];pathConfig.on[event]=function(d,i,s,e){var x=d.points.map((function(p){return p.x+width/2})),y=d.points.map((function(p){return p.y+height/2})),cursor=(0,pointer.A)(e,_this2._select.node()),xDist=x.map((function(p){return Math.abs(p-cursor[0])})),yDist=y.map((function(p){return Math.abs(p-cursor[1])})),dists=xDist.map((function(d,i){return d+yDist[i]}));_this2._on[event].bind(_this2)(d.arr[dists.indexOf((0,min.A)(dists))],i,s,e)}},e=0;e<events.length;e++)_loop();return this._shapes.push((new Path.A).data(groupData).d((function(d){return d.d})).select((0,elem.A)("g.d3plus-Radar-items",{parent:this._select,enter:{transform},update:{transform}}).node()).config(pathConfig).render()),this}},{key:"axisConfig",value:function axisConfig(_){return arguments.length?(this._axisConfig=(0,src_assign.A)(this._axisConfig,_),this):this._axisConfig}},{key:"metric",value:function metric(_){return arguments.length?(this._metric="function"==typeof _?_:(0,accessor.A)(_),this):this._metric}},{key:"outerPadding",value:function outerPadding(_){return arguments.length?(this._outerPadding=_,this):this._outerPadding}},{key:"value",value:function value(_){return arguments.length?(this._value="function"==typeof _?_:(0,accessor.A)(_),this):this._value}}]),Radar}(Viz.A),src_Viz=__webpack_require__("./node_modules/d3plus-react/es/src/Viz.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const src_Radar=function Radar(props){return react.createElement(src_Viz.A,_extends({type:Radar_Radar},props))},Radar_args_Radar=({config})=>react.createElement(src_Radar,{config}),argTypes=(0,src_assign.A)(Object.keys(Viz_args.A.argTypes).filter((k=>!k.match(/^(discrete|shape|zoom.*)$/))).reduce(((obj,k)=>(obj[k]=Viz_args.A.argTypes[k],obj)),{}),{axisConfig:{type:{summary:"object"},defaultValue:{shapeConfig:{fill:"none",labelConfig:{fontColor:"#999",padding:0,textAnchor:(d,i,x)=>x.textAnchor,verticalAlign:"middle"},stroke:"#eee",strokeWidth:1}},table:{defaultValue:{summary:"object",detail:'\n{\n  shapeConfig: {\n    fill: "none",\n    labelConfig: {\n      fontColor: "#999",\n      padding: 0,\n      textAnchor: (d, i, x) => x.textAnchor,\n      verticalAlign: "middle"\n    },\n    stroke: "#eee",\n    strokeWidth: 1\n  }\n}'}},control:{type:"object"},description:"Sets the config method used for the radial spokes, circles, and labels."},metric:{type:{summary:"string | function"},defaultValue:"metric",table:{defaultValue:{summary:"metric"}},control:{type:"text"},description:"Sets the accessor or key value to the be used as axis."},outerPadding:{type:{summary:"number"},defaultValue:100,table:{defaultValue:{summary:100}},control:{type:"number"},description:"Determines how much pixel spaces to give the outer labels."},value:{type:{summary:"function | string"},defaultValue:d=>d.value,table:{defaultValue:{summary:"function",detail:"d => d.value"}},control:{type:null},description:"Sets the value accessor to the specified function or number."}});Radar_args_Radar.__docgenInfo={description:"",methods:[],displayName:"Radar"};var configify=__webpack_require__("./helpers/configify.js"),funcify=__webpack_require__("./helpers/funcify.js");const RadarPlot_stories={title:"Charts/Radar Plot",component:Radar_args_Radar,argTypes},Template=args=>react.createElement(Radar_args_Radar,{config:(0,configify.A)(args,argTypes)}),BasicExample=Template.bind({});BasicExample.args={data:[{id:"alpha",axis:"Central",number:170.992},{id:"alpha",axis:"Kirkdale",number:40},{id:"alpha",axis:"Kensington",number:240},{id:"alpha",axis:"Everton",number:90},{id:"alpha",axis:"Picton",number:160},{id:"alpha",axis:"Riverside",number:30},{id:"beta",axis:"Central",number:320},{id:"beta",axis:"Kirkdale",number:97.5},{id:"beta",axis:"Kensington",number:40},{id:"beta",axis:"Everton",number:110},{id:"beta",axis:"Picton",number:40},{id:"beta",axis:"Riverside",number:110}],groupBy:"id",metric:"axis",value:"number"},BasicExample.parameters={controls:{include:["metric","value"]}};const CustomizingLabels=Template.bind({});CustomizingLabels.args={data:[{Geography:"Midwest Region",sport:"Soccer",total:20},{Geography:"West Region",sport:"Soccer",total:10},{Geography:"Southwest Region",sport:"Soccer",total:20},{Geography:"Southeast Region",sport:"Soccer",total:20},{Geography:"Northeast Region",sport:"Soccer",total:20},{Geography:"Midwest Region",sport:"Baseball",total:15},{Geography:"West Region",sport:"Baseball",total:21},{Geography:"Southwest Region",sport:"Baseball",total:10},{Geography:"Southeast Region",sport:"Baseball",total:15},{Geography:"Northeast Region",sport:"Baseball",total:12}],groupBy:"sport",metric:"Geography",value:"total",axisConfig:{shapeConfig:{labelConfig:{fontColor:"green"}}}},CustomizingLabels.parameters={controls:{include:["axisConfig"]}};const ChangingColors=Template.bind({});ChangingColors.args={data:[{Geography:"Midwest",sport:"Soccer",total:20},{Geography:"West",sport:"Soccer",total:10},{Geography:"Southwest",sport:"Soccer",total:20},{Geography:"Southeast",sport:"Soccer",total:20},{Geography:"Northeast",sport:"Soccer",total:20},{Geography:"Midwest",sport:"Baseball",total:15},{Geography:"West",sport:"Baseball",total:21},{Geography:"Southwest",sport:"Baseball",total:10},{Geography:"Southeast",sport:"Baseball",total:15},{Geography:"Northeast",sport:"Baseball",total:12}],groupBy:"sport",metric:"Geography",value:"total",shapeConfig:{fill:(0,funcify.A)((d=>"Soccer"===d.sport?"green":"orange"),'d => d.sport === "Soccer" ? "green" : "orange"')}},ChangingColors.parameters={controls:{include:["shapeConfig"]}};const __namedExportsOrder=["BasicExample","CustomizingLabels","ChangingColors"];BasicExample.parameters={...BasicExample.parameters,docs:{...BasicExample.parameters?.docs,source:{originalSource:"args => <Viz config={configify(args, argTypes)} />",...BasicExample.parameters?.docs?.source}}},CustomizingLabels.parameters={...CustomizingLabels.parameters,docs:{...CustomizingLabels.parameters?.docs,source:{originalSource:"args => <Viz config={configify(args, argTypes)} />",...CustomizingLabels.parameters?.docs?.source}}},ChangingColors.parameters={...ChangingColors.parameters,docs:{...ChangingColors.parameters?.docs,source:{originalSource:"args => <Viz config={configify(args, argTypes)} />",...ChangingColors.parameters?.docs?.source}}}},"./helpers/funcify.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function __WEBPACK_DEFAULT_EXPORT__(fn,str){return fn.toString=()=>str,fn.toJSON=()=>str,fn}__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__})}}]);