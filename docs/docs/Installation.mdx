import { Meta } from '@storybook/blocks';

<Meta title="Installation" />

# Installation

## ES Modules

D3plus is available as a series of modules, which can be seen in the [Github orgnization](https://github.com/d3plus). For example, to install only the text-wrapping module:

```sh
npm install d3plus-text
```

You can then import named functions and classes as ES modules:

```js
import {TextBox} from "d3plus-text";
```

## React Components

If you are looking to use the charts in a React environment, the `d3plus-react` module wraps each chart class in a thin React component:

```sh
npm install d3plus-react
```

A valid d3plus `config` _Object_ needs to be provided to the `config` prop of every visualization.

```jsx
import {Treemap} from "d3plus-react";

const methods = {
  groupBy: "id",
  data: [
    {id: "alpha", value: 29},
    {id: "beta",  value: 10}
  ],
  size: d => d.value
};

<Treemap config={methods} />
```

Additionally, a global set of styles can be set using the `D3plusContext` Provider. This allows you to set base styles on all of your visualizations in one place, often in an external file. A component's `config` set by props will override global defaults key-by-key using a deep cloning function.

```jsx
import React from "react";
import ReactDOM from "react-dom/client";
import {D3plusContext} from "d3plus-react";
import App from "src/App.jsx";

const globalConfig = {
  shapeConfig: {
    fill: "red"
  }
};

ReactDOM.createRoot(document.getElementById("viz")).render(
  <React.StrictMode>
    <D3plusContext.Provider value={globalConfig}>
      <App />
    </D3plusContext.Provider>
  </React.StrictMode>
);
```

## Vanilla JS Environments

Additionally, each module is available from a CDN for vanilla JavaScript environments (bundled with all dependencies):

```html
<script src="https://cdn.jsdelivr.net/npm/d3plus-text@1"></script>
```

A global `d3plus` object is exported, which contains all of the available methods and classes:

```html
<script>
  console.log(d3plus.TextBox);
</script>
```

Additionally, a library-wide bundle is also made available, if you are looking to use more than one d3plus module at the same time:

```html
<script src="https://cdn.jsdelivr.net/npm/d3plus@2"></script>
```
